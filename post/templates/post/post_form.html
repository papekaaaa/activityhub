{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container-fluid py-5">
  <div class="post-card shadow-sm mx-auto">
    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß -->
    <div class="post-header d-flex justify-content-center align-items-center position-relative">
      <h4 class="fw-bold mb-0">{{ title|default:"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°" }}</h4>
      <button class="btn-close-custom" type="button" onclick="history.back()">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <!-- ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á -->
    <div class="post-profile text-center my-3">
      {% if request.user.profile and request.user.profile.profile_pic %}
        <img src="{{ request.user.profile.profile_pic.url }}" class="profile-img" alt="profile" />
      {% else %}
        <img src="{% static 'images/default_profile.png' %}" class="profile-img" alt="profile" />
      {% endif %}
    </div>

    {% if form.errors %}
    <div class="alert alert-danger small mx-3">
      ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
    </div>
    {% endif %}

    <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç -->
    <form method="post" enctype="multipart/form-data" class="px-4 pb-4">
      {% csrf_token %}

      <div class="post-body">
        <!-- ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ã‡πâ‡∏≤‡∏¢: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
        <div class="post-left">
          <!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
          <input
            type="text"
            name="title"
            placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°"
            class="input-field mb-3"
            required
            value="{{ form.title.value|default_if_none:'' }}"
          />

          <!-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà -->
          <input
            type="text"
            name="location"
            placeholder="‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà"
            class="input-field mb-3"
            required
            value="{{ form.location.value|default_if_none:'' }}"
          />

          <!-- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
          <input
            type="datetime-local"
            name="event_date"
            class="input-field mb-3"
            value="{{ form.event_date.value|default_if_none:'' }}"
          />

          <!-- ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ -->
          <input
            type="number"
            name="fee"
            class="input-field mb-3"
            min="0"
            placeholder="‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡∏ö‡∏≤‡∏ó) ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ"
            value="{{ form.fee.value|default_if_none:'' }}"
          />

          <!-- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î -->
          <textarea
            name="description"
            placeholder="‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢/‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î"
            class="input-field mb-3"
            rows="4"
          >{{ form.description.value|default_if_none:'' }}</textarea>

          <!-- ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£ -->
          <input
            type="number"
            name="slots_available"
            placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£"
            class="input-field mb-3"
            min="1"
            value="{{ form.slots_available.value|default_if_none:'' }}"
            required
          />

          <!-- ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
          <select name="category" class="input-field mb-3" required>
            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</option>
            {% with current=form.category.value %}
              {% for value, label in form.fields.category.choices %}
                <option value="{{ value }}" {% if value == current %}selected{% endif %}>{{ label }}</option>
              {% endfor %}
            {% endwith %}
          </select>

          <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) -->
          {% if post.image %}
            <div class="mb-2 small text-muted">
              ‡∏£‡∏π‡∏õ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:
            </div>
            <div class="mb-3">
              <img src="{{ post.image.url }}" alt="activity image" style="max-width: 100%; border-radius: 12px;">
            </div>
          {% endif %}
        </div>

        <!-- ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏Ç‡∏ß‡∏≤: ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà -->
        <div class="post-right">
          <!-- hidden lat/lng -->
          <input type="hidden" id="map_lat" name="map_lat" value="{{ form.map_lat.value|default_if_none:'' }}">
          <input type="hidden" id="map_lng" name="map_lng" value="{{ form.map_lng.value|default_if_none:'' }}">

          <label class="form-label fw-semibold mb-2">‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</label>

          <!-- ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà -->
          <div class="map-search d-flex align-items-center gap-2 mb-2">
            <input
              type="text"
              id="map-search-input"
              class="form-control form-control-sm"
              placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà ‡πÄ‡∏ä‡πà‡∏ô ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ"
            />
            <button type="button" id="map-search-btn" class="btn btn-outline-secondary btn-sm">
              ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
            </button>
            <button type="button" id="map-clear-btn" class="btn btn-link btn-sm text-danger">
              ‡∏•‡∏ö‡∏´‡∏°‡∏∏‡∏î
            </button>
          </div>

          <div id="map" class="map-box mb-2"></div>

          <div class="map-help small text-muted">
            <strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</strong><br>
            ‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°<br>
            ‚Ä¢ ‡πÉ‡∏ä‡πâ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£<br>
            ‚Ä¢ ‡∏õ‡∏∏‡πà‡∏° ‚Äú‡∏•‡∏ö‡∏´‡∏°‡∏∏‡∏î‚Äù ‡∏à‡∏∞‡∏•‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ñ‡πà‡∏≤‡∏û‡∏¥‡∏Å‡∏±‡∏î
          </div>
        </div>
      </div>

      <!-- footer ‡∏•‡πà‡∏≤‡∏á -->
      <div class="post-footer d-flex justify-content-between align-items-center mt-4 flex-wrap gap-3">
        <!-- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î -->
        <div class="icon-group d-flex gap-4 align-items-center">
          <!-- ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (‡∏ó‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ) -->
          <label class="icon-upload mb-0" title="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°">
            <i class="fa-regular fa-image"></i>
            <input type="file" name="image" hidden />
          </label>

          <!-- ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£ (‡∏ó‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ) -->
          <label class="icon-upload mb-0" title="‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£">
            <i class="fa-regular fa-clipboard"></i>
            <input type="file" name="schedule" hidden />
          </label>
        </div>

        <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ / ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏° -->
        <div class="d-flex align-items-center gap-3">
          <label class="checkbox-label mb-0">
            <input
              type="checkbox"
              name="allow_register"
              {% if form.allow_register.value %}checked{% endif %}
            />
            ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
          </label>
          <label class="checkbox-label mb-0">
            <input
              type="checkbox"
              name="create_group"
              {% if form.create_group.value %}checked{% endif %}
            />
            ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏µ‡πâ
          </label>
        </div>

        <!-- ‡∏õ‡∏∏‡πà‡∏° ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å / ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å -->
        <div class="d-flex gap-2">
          <button type="button" class="btn-cancel" onclick="history.back()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
          <button type="submit" class="btn-save">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        </div>
      </div>
    </form>
  </div>
</div>

<!-- Leaflet CDN -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ
  const map = L.map('map').setView([15.2294, 104.8560], 13);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 18,
    attribution: '¬© OpenStreetMap contributors'
  }).addTo(map);

  let marker;

  const latInput = document.getElementById('map_lat');
  const lngInput = document.getElementById('map_lng');

  // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÄ‡∏î‡∏¥‡∏° ‡πÉ‡∏´‡πâ‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î
  if (latInput.value && lngInput.value) {
    const lat = parseFloat(latInput.value);
    const lng = parseFloat(lngInput.value);
    marker = L.marker([lat, lng]).addTo(map)
      .bindPopup(`‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:<br>${lat.toFixed(6)}, ${lng.toFixed(6)}`)
      .openPopup();
    map.setView([lat, lng], 15);
  }

  // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏±‡∏Å‡∏´‡∏°‡∏∏‡∏î
  map.on('click', function(e) {
    const { lat, lng } = e.latlng;
    if (marker) map.removeLayer(marker);

    marker = L.marker([lat, lng]).addTo(map)
      .bindPopup(`‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:<br>${lat.toFixed(6)}, ${lng.toFixed(6)}`)
      .openPopup();

    latInput.value = lat.toFixed(6);
    lngInput.value = lng.toFixed(6);
  });

  // ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢ Nominatim
  const searchInput = document.getElementById('map-search-input');
  const searchBtn = document.getElementById('map-search-btn');

  async function searchLocation() {
    const query = searchInput.value.trim();
    if (!query) return;

    try {
      const url = 'https://nominatim.openstreetmap.org/search?format=json&limit=1&q='
                  + encodeURIComponent(query);
      const res = await fetch(url, {
        headers: { 'Accept-Language': 'th' }
      });
      const data = await res.json();
      if (data && data.length > 0) {
        const { lat, lon } = data[0];

        const latNum = parseFloat(lat);
        const lonNum = parseFloat(lon);

        if (marker) map.removeLayer(marker);
        marker = L.marker([latNum, lonNum]).addTo(map)
          .bindPopup(`‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:<br>${latNum.toFixed(6)}, ${lonNum.toFixed(6)}`)
          .openPopup();

        latInput.value = latNum.toFixed(6);
        lngInput.value = lonNum.toFixed(6);
        map.setView([latNum, lonNum], 16);
      } else {
        alert('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤');
      }
    } catch (err) {
      console.error(err);
      alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà');
    }
  }

  searchBtn.addEventListener('click', searchLocation);
  searchInput.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
      e.preventDefault();
      searchLocation();
    }
  });

  // ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö‡∏´‡∏°‡∏∏‡∏î
  const clearBtn = document.getElementById('map-clear-btn');
  clearBtn.addEventListener('click', function() {
    if (marker) {
      map.removeLayer(marker);
      marker = null;
    }
    latInput.value = '';
    lngInput.value = '';
  });
});
</script>

<style>
body {
  background-color: #f4f4f4 !important;
  font-family: 'Kanit', sans-serif;
}

/* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô */
.post-card {
  background-color: #fff;
  width: 100%;
  max-width: 1300px;  /* üëà ‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏Å‡∏ß‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤ create ‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢ */
  border-radius: 22px;
  padding: 1.5rem 0 1rem;
}

/* ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß */
.post-header {
  border-bottom: 1px solid #eee;
  padding: 0 2rem 0.75rem;
}
.btn-close-custom {
  position: absolute;
  right: 2rem;
  top: 0;
  background: none;
  border: none;
  color: #777;
  font-size: 1.3rem;
}
.btn-close-custom:hover {
  color: #000;
}

/* ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Å‡∏•‡∏≤‡∏á */
.post-profile {
  display: flex;
  justify-content: center;
}
.profile-img {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #ddd;
}

/* layout ‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤ */
.post-body {
  display: flex;
  flex-wrap: wrap;
  gap: 2rem;
}
.post-left,
.post-right {
  flex: 1 1 360px;
}

/* ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• */
.input-field {
  width: 100%;
  border: 1.5px solid #ccc;
  border-radius: 10px;
  padding: 0.6rem 0.9rem;
  font-size: 1rem;
  transition: all 0.2s ease;
}
.input-field:focus {
  outline: none;
  border-color: #000;
  box-shadow: 0 0 0 1px #000;
}

/* ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà */
.map-box {
  width: 100%;
  height: 330px;
  border-radius: 10px;
  border: 1px solid #ddd;
  overflow: hidden;
}

/* icon upload */
.icon-group i {
  font-size: 1.6rem;
  color: #555;
  cursor: pointer;
  transition: transform 0.2s ease, color 0.2s ease;
}
.icon-group i:hover {
  color: #000;
  transform: scale(1.1);
}

/* checkbox label */
.checkbox-label {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.95rem;
}

/* footer ‡∏õ‡∏∏‡πà‡∏°‡∏•‡πà‡∏≤‡∏á */
.post-footer {
  border-top: 1px solid #eee;
  padding-top: 1rem;
}

/* ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å / ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å */
.btn-cancel,
.btn-save {
  border-radius: 999px;
  padding: 0.55rem 1.5rem;
  font-weight: 600;
  border: none;
  font-size: 0.95rem;
}

/* ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÅ‡∏î‡∏á */
.btn-cancel {
  background-color: #dc3545;
  color: #fff;
}
.btn-cancel:hover {
  background-color: #c82333;
}

/* ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß */
.btn-save {
  background-color: #28a745;
  color: #fff;
}
.btn-save:hover {
  background-color: #218838;
}

/* ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà: ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ */
.map-search .form-control {
  font-size: 0.9rem;
}

/* responsive ‡πÄ‡∏•‡πá‡∏Å */
@media (max-width: 768px) {
  .post-card {
    border-radius: 0;
  }
  .post-header {
    padding: 0 1rem 0.75rem;
  }
  .btn-close-custom {
    right: 1rem;
  }
}
</style>
{% endblock %}
